<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>fix8: ff::SWSR_Ptr_Buffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fix8_Logo_RGB_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">fix8
   &#160;<span id="projectnumber">version  1.0.0</span>
   </div>
   <div id="projectbrief">Open Source C++ FIX Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classff_1_1SWSR__Ptr__Buffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classff_1_1SWSR__Ptr__Buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ff::SWSR_Ptr_Buffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Single-Writer/Single-Reader circular buffer.  
 <a href="classff_1_1SWSR__Ptr__Buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6b0a3e18ec0a6a7447f7195daeb1f795"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a6b0a3e18ec0a6a7447f7195daeb1f795">SWSR_Ptr_Buffer</a> (unsigned long n, const bool=true)</td></tr>
<tr class="separator:a6b0a3e18ec0a6a7447f7195daeb1f795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b06abc1175858480e249ca0abf2972"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a89b06abc1175858480e249ca0abf2972">~SWSR_Ptr_Buffer</a> ()</td></tr>
<tr class="separator:a89b06abc1175858480e249ca0abf2972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1db7c944552c0c75f4dfdc8dd88e7f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#ad1db7c944552c0c75f4dfdc8dd88e7f9">init</a> (const bool startatlineend=false)</td></tr>
<tr class="separator:ad1db7c944552c0c75f4dfdc8dd88e7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2700fc8ac668868195894ca54aedacaa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a2700fc8ac668868195894ca54aedacaa">empty</a> ()</td></tr>
<tr class="separator:a2700fc8ac668868195894ca54aedacaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ae06039c2a3f41373c219f5261ed00"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a92ae06039c2a3f41373c219f5261ed00">available</a> ()</td></tr>
<tr class="separator:a92ae06039c2a3f41373c219f5261ed00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5328fd5f2783eb1df75a5dad4f0405e0"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a5328fd5f2783eb1df75a5dad4f0405e0">buffersize</a> () const </td></tr>
<tr class="separator:a5328fd5f2783eb1df75a5dad4f0405e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77bed50b424708f67cc629a540586fba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a77bed50b424708f67cc629a540586fba">push</a> (void *const <a class="el" href="MPMCqueues_8hpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>)</td></tr>
<tr class="separator:a77bed50b424708f67cc629a540586fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0877a5780564072b03a0ae91899e9b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a7c0877a5780564072b03a0ae91899e9b">multipush</a> (void *const <a class="el" href="MPMCqueues_8hpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>[], int len)</td></tr>
<tr class="separator:a7c0877a5780564072b03a0ae91899e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e24ef6aa082aca6d1b2d12d10abbbd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#ab1e24ef6aa082aca6d1b2d12d10abbbd">pop</a> (void **<a class="el" href="MPMCqueues_8hpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>)</td></tr>
<tr class="separator:ab1e24ef6aa082aca6d1b2d12d10abbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1f3fbe8bafd0b14fd33e23413de2492"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#af1f3fbe8bafd0b14fd33e23413de2492">inc</a> ()</td></tr>
<tr class="separator:af1f3fbe8bafd0b14fd33e23413de2492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e6063bb9f9078af593b4e63aca7920"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a63e6063bb9f9078af593b4e63aca7920">top</a> () const </td></tr>
<tr class="separator:a63e6063bb9f9078af593b4e63aca7920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b0e2082546fd8f8a30e9243ea76d04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#af3b0e2082546fd8f8a30e9243ea76d04">reset</a> (const bool startatlineend=false)</td></tr>
<tr class="separator:af3b0e2082546fd8f8a30e9243ea76d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525c3ce2b15dde10b636044b8c0eabd1"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a525c3ce2b15dde10b636044b8c0eabd1">length</a> () const </td></tr>
<tr class="separator:a525c3ce2b15dde10b636044b8c0eabd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ad037bb7922b83757485783ac740af32c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#ad037bb7922b83757485783ac740af32ca6cdc8efe9ce512fc3982f6704642122e">MULTIPUSH_BUFFER_SIZE</a> =16
 }</td></tr>
<tr class="separator:ad037bb7922b83757485783ac740af32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adb9eafb6b9832b17e5a4091ecd6b3901"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#adb9eafb6b9832b17e5a4091ecd6b3901">pread</a></td></tr>
<tr class="separator:adb9eafb6b9832b17e5a4091ecd6b3901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d99fcf4a3f1d5a027cbd71d43cd466b"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a5d99fcf4a3f1d5a027cbd71d43cd466b">padding1</a> [<a class="el" href="namespaceff.html#ad0bc32203f6c871e1a6d21be4437d272">longxCacheLine</a>-1]</td></tr>
<tr class="separator:a5d99fcf4a3f1d5a027cbd71d43cd466b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3b26c3fe43e566835c991bfc0cc310"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a9f3b26c3fe43e566835c991bfc0cc310">pwrite</a></td></tr>
<tr class="separator:a9f3b26c3fe43e566835c991bfc0cc310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad733915e9859387fa56947e6fcdf4d06"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#ad733915e9859387fa56947e6fcdf4d06">padding2</a> [<a class="el" href="namespaceff.html#ad0bc32203f6c871e1a6d21be4437d272">longxCacheLine</a>-1]</td></tr>
<tr class="separator:ad733915e9859387fa56947e6fcdf4d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b99076f083b79ad6ddf7f6030d61c2"><td class="memItemLeft" align="right" valign="top">const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#af7b99076f083b79ad6ddf7f6030d61c2">size</a></td></tr>
<tr class="separator:af7b99076f083b79ad6ddf7f6030d61c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337875fd92896f514d6ba2f5a398c624"><td class="memItemLeft" align="right" valign="top">void **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classff_1_1SWSR__Ptr__Buffer.html#a337875fd92896f514d6ba2f5a398c624">buf</a></td></tr>
<tr class="separator:a337875fd92896f514d6ba2f5a398c624"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Single-Writer/Single-Reader circular buffer. </p>
<p>This class describes the SWSR circular buffer, used in FastFlow to implement a lock-free (wait-free) bounded FIFO queue. No lock is needed around pop and push methods.</p>
<p>A single NULL value is used to indicate buffer full and buffer empty conditions.</p>
<p>This class is defined in <a class="el" href="buffer_8hpp.html">buffer.hpp</a> </p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00086">86</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ad037bb7922b83757485783ac740af32c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>experimentally we found that a good value is between 2 and 6 cache lines (16 to 48 entries respectively) </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ad037bb7922b83757485783ac740af32ca6cdc8efe9ce512fc3982f6704642122e"></a>MULTIPUSH_BUFFER_SIZE</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00091">91</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6b0a3e18ec0a6a7447f7195daeb1f795"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ff::SWSR_Ptr_Buffer::SWSR_Ptr_Buffer </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>the size of the buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00126">126</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a89b06abc1175858480e249ca0abf2972"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ff::SWSR_Ptr_Buffer::~SWSR_Ptr_Buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default destructor </p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00133">133</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, and <a class="el" href="sysdep_8h_source.html#l00210">freeAlignedMemory()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a92ae06039c2a3f41373c219f5261ed00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It returns true if there is at least one room in the buffer. </p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00173">173</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, and <a class="el" href="buffer_8hpp_source.html#l00104">pwrite</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00200">push()</a>.</p>

</div>
</div>
<a class="anchor" id="a5328fd5f2783eb1df75a5dad4f0405e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ff::SWSR_Ptr_Buffer::buffersize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It returns the size of the buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>The size of the buffer. </dd></dl>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00186">186</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

<p>Referenced by <a class="el" href="dynqueue_8hpp_source.html#l00160">ff::dynqueue::~dynqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a2700fc8ac668868195894ca54aedacaa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It returns true if the buffer is empty. </p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00162">162</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, and <a class="el" href="buffer_8hpp_source.html#l00102">pread</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00291">pop()</a>.</p>

</div>
</div>
<a class="anchor" id="af1f3fbe8bafd0b14fd33e23413de2492"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::inc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It is like pop but doesn't copy any data.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> is alway returned. </dd></dl>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00303">303</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, <a class="el" href="buffer_8hpp_source.html#l00102">pread</a>, and <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00291">pop()</a>.</p>

</div>
</div>
<a class="anchor" id="ad1db7c944552c0c75f4dfdc8dd88e7f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::init </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>startatlineend</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It initialise the buffer. Allocate space (<code>size</code>) of possibly aligned memory and reset the pointers (read pointer and write pointer) by placing them at the beginning of the buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>TODO </dd></dl>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00145">145</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, <a class="el" href="sysdep_8h_source.html#l00188">getAlignedMemory()</a>, <a class="el" href="buffer_8hpp_source.html#l00061">ff::longxCacheLine</a>, <a class="el" href="buffer_8hpp_source.html#l00091">MULTIPUSH_BUFFER_SIZE</a>, <a class="el" href="buffer_8hpp_source.html#l00323">reset()</a>, and <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

<p>Referenced by <a class="el" href="dynqueue_8hpp_source.html#l00137">ff::dynqueue::dynqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a525c3ce2b15dde10b636044b8c0eabd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ff::SWSR_Ptr_Buffer::length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It returns the length of the buffer (i.e. the actual number of elements it contains) </p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00344">344</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00102">pread</a>, <a class="el" href="buffer_8hpp_source.html#l00104">pwrite</a>, and <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

</div>
</div>
<a class="anchor" id="a7c0877a5780564072b03a0ae91899e9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::multipush </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>data</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The multipush method, which pushes a batch of elements (array) in the queue. NOTE: len should be a multiple of longxCacheLine/sizeof(void*) </p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00225">225</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, <a class="el" href="buffer_8hpp_source.html#l00104">pwrite</a>, and <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

</div>
</div>
<a class="anchor" id="ab1e24ef6aa082aca6d1b2d12d10abbbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::pop </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pop method: get the next value from the FIFO buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to the location where to store the data popped from the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00291">291</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, <a class="el" href="buffer_8hpp_source.html#l00162">empty()</a>, <a class="el" href="buffer_8hpp_source.html#l00303">inc()</a>, and <a class="el" href="buffer_8hpp_source.html#l00102">pread</a>.</p>

<p>Referenced by <a class="el" href="dynqueue_8hpp_source.html#l00102">ff::dynqueue::allocnode()</a>, <a class="el" href="dynqueue_8hpp_source.html#l00114">ff::dynqueue::mp_allocnode()</a>, and <a class="el" href="dynqueue_8hpp_source.html#l00160">ff::dynqueue::~dynqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a77bed50b424708f67cc629a540586fba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ff::SWSR_Ptr_Buffer::push </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Push method: push the input value into the queue. A Write Memory <a class="el" href="classff_1_1Barrier.html" title="Models a classical mutex.">Barrier</a> (WMB) ensures that all previous memory writes are visible to the other processors before any later write is executed. This is an "expensive" memory fence operation needed in all the architectures with a weak-ordering memory model, where stores can be executed out-of-order (e.g. PowerPc). This is a no-op on Intel x86/x86-64 CPUs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Element to be pushed in the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TODO </dd></dl>
<p>Write Memory <a class="el" href="classff_1_1Barrier.html" title="Models a classical mutex.">Barrier</a>: ensure all previous memory write are visible to the other processors before any later writes are executed. This is an "expensive" memory fence operation needed in all the architectures with a weak-ordering memory model where stores can be executed out-or-order (e.g. Powerpc). This is a no-op on Intel x86/x86-64 CPUs.</p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00200">200</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00173">available()</a>, <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, <a class="el" href="MPMCqueues_8hpp_source.html#l00655">data</a>, <a class="el" href="buffer_8hpp_source.html#l00104">pwrite</a>, and <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

<p>Referenced by <a class="el" href="dynqueue_8hpp_source.html#l00137">ff::dynqueue::dynqueue()</a>, <a class="el" href="dynqueue_8hpp_source.html#l00231">ff::dynqueue::mp_pop()</a>, and <a class="el" href="dynqueue_8hpp_source.html#l00188">ff::dynqueue::pop()</a>.</p>

</div>
</div>
<a class="anchor" id="af3b0e2082546fd8f8a30e9243ea76d04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ff::SWSR_Ptr_Buffer::reset </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>startatlineend</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset the buffer and move <code>read</code> and <code>write</code> pointers to the beginning of the buffer (i.e. position 0). Also, the entire buffer is cleaned and set to 0 </p>
<p>This is a good starting point if the multipush method will be used in order to reduce cache trashing.</p>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00323">323</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, <a class="el" href="buffer_8hpp_source.html#l00061">ff::longxCacheLine</a>, <a class="el" href="buffer_8hpp_source.html#l00102">pread</a>, <a class="el" href="buffer_8hpp_source.html#l00104">pwrite</a>, and <a class="el" href="buffer_8hpp_source.html#l00107">size</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00145">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a63e6063bb9f9078af593b4e63aca7920"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* ff::SWSR_Ptr_Buffer::top </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It returns the "head" of the buffer, i.e. the element pointed by the read pointer (it is a FIFO queue, so <code>push</code> on the tail and <code>pop</code> from the head).</p>
<dl class="section return"><dt>Returns</dt><dd>The head of the buffer. </dd></dl>

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00316">316</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>References <a class="el" href="buffer_8hpp_source.html#l00108">buf</a>, and <a class="el" href="buffer_8hpp_source.html#l00102">pread</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a337875fd92896f514d6ba2f5a398c624"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void** ff::SWSR_Ptr_Buffer::buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00108">108</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00173">available()</a>, <a class="el" href="buffer_8hpp_source.html#l00162">empty()</a>, <a class="el" href="buffer_8hpp_source.html#l00303">inc()</a>, <a class="el" href="buffer_8hpp_source.html#l00145">init()</a>, <a class="el" href="buffer_8hpp_source.html#l00225">multipush()</a>, <a class="el" href="buffer_8hpp_source.html#l00291">pop()</a>, <a class="el" href="buffer_8hpp_source.html#l00200">push()</a>, <a class="el" href="buffer_8hpp_source.html#l00323">reset()</a>, <a class="el" href="buffer_8hpp_source.html#l00316">top()</a>, and <a class="el" href="buffer_8hpp_source.html#l00133">~SWSR_Ptr_Buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a5d99fcf4a3f1d5a027cbd71d43cd466b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long ff::SWSR_Ptr_Buffer::padding1[<a class="el" href="namespaceff.html#ad0bc32203f6c871e1a6d21be4437d272">longxCacheLine</a>-1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00103">103</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad733915e9859387fa56947e6fcdf4d06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long ff::SWSR_Ptr_Buffer::padding2[<a class="el" href="namespaceff.html#ad0bc32203f6c871e1a6d21be4437d272">longxCacheLine</a>-1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00105">105</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adb9eafb6b9832b17e5a4091ecd6b3901"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long ff::SWSR_Ptr_Buffer::pread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00102">102</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00162">empty()</a>, <a class="el" href="buffer_8hpp_source.html#l00303">inc()</a>, <a class="el" href="buffer_8hpp_source.html#l00344">length()</a>, <a class="el" href="buffer_8hpp_source.html#l00291">pop()</a>, <a class="el" href="buffer_8hpp_source.html#l00323">reset()</a>, and <a class="el" href="buffer_8hpp_source.html#l00316">top()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f3b26c3fe43e566835c991bfc0cc310"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long ff::SWSR_Ptr_Buffer::pwrite</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00104">104</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00173">available()</a>, <a class="el" href="buffer_8hpp_source.html#l00344">length()</a>, <a class="el" href="buffer_8hpp_source.html#l00225">multipush()</a>, <a class="el" href="buffer_8hpp_source.html#l00200">push()</a>, and <a class="el" href="buffer_8hpp_source.html#l00323">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="af7b99076f083b79ad6ddf7f6030d61c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long ff::SWSR_Ptr_Buffer::size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="buffer_8hpp_source.html#l00107">107</a> of file <a class="el" href="buffer_8hpp_source.html">buffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="buffer_8hpp_source.html#l00186">buffersize()</a>, <a class="el" href="buffer_8hpp_source.html#l00303">inc()</a>, <a class="el" href="buffer_8hpp_source.html#l00145">init()</a>, <a class="el" href="buffer_8hpp_source.html#l00344">length()</a>, <a class="el" href="buffer_8hpp_source.html#l00225">multipush()</a>, <a class="el" href="buffer_8hpp_source.html#l00200">push()</a>, and <a class="el" href="buffer_8hpp_source.html#l00323">reset()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="buffer_8hpp_source.html">buffer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->

    <li class="footer"><a href=http://www.fix8.org><b>fix8</b></a> documentation generated on Thu Jan 16 2014 16:13:41. Copyright &copy; 2010-14, <a href=mailto:fix@fix8.org><b>The Fix8 Team.</b></a> All rights reserved.</li>
   </ul>
 </div>
</body>
</html>
